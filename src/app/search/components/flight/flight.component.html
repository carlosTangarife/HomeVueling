<form autocomplete="off" #searchFlight="ngForm" class="pane-wrapper" (ngSubmit)="submit(searchFlight)" novalidate>
  <div class="form-group form-group--flight-search">
     <div id="form-group--origin" class="form-input origin" [ngClass]="{'focused':originPopup}">
        <label for="origin-input">Origen</label>
        <div class="input-group" (click)="clearInputOrigin()">
          <span class="prefix" *ngIf="dataFlight.origin.iataCode">{{dataFlight.origin.iataCode}}</span>
            <input type="text" id="origin-input"
              [(ngModel)]="dataFlight.origin.iataName"
              (keyup)="getStationFilter(origin.value)"
              name="origin"
              #origin="ngModel"
              class="form-control js-searchbar-input"
              placeholder="Ciudad, país o aeropuerto"
              required
            >
        </div>

        <div class="popover popover--error" *ngIf="false">
          <div class="popover-content">Before continiung, you must select your origin.</div>
        </div>

        <div id="origin-sugestion-popup" class="searchbar-popup cities-sugestion-popup" [ngClass]="{'show':originPopup}">
           <p class="cities-sugestion-popup_title">Búsquedas recientes <span class="erase-label">Borrar</span></p>
           <ul class="cities-sugestion-popup_list">
              <li *ngFor="let resent of stationResent$ | async" (click)="originSelected(resent)">
                <p class="list-item">{{resent?.iataName}}</p>
                <p class="list-item">{{resent?.countryName}}</p>
                <p class="list-item">{{resent?.iataCode}}</p>
                <p class="list-item"><span class="icon icon-arrow-list"></span></p>
              </li>
            </ul>

           <p class="cities-sugestion-popup_title">Todos los aeropuertos</p>
           <ul class="cities-sugestion-popup_list">
              <li *ngFor="let origin of stations$ | async" (click)="originSelected(origin)">
                <p class="list-item">{{origin?.iataName}}</p>
                <p class="list-item">{{origin?.countryName}}</p>
                <p class="list-item">{{origin?.iataCode}}</p>
              </li>
            </ul>
        </div>
     </div>

     <div id="form-group--destination" class="form-input destination">
      <label for="destination-input">Destino</label>
      <div class="input-group" (click)="clearInputDestination()">
        <span class="prefix" *ngIf="dataFlight.destination.iataCode">{{dataFlight.destination.iataCode}}</span>
        <input type="text" id="destination-input"
              [(ngModel)]="dataFlight.destination.iataName"
              name="destination"
              #destination="ngModel"
              class="form-control js-searchbar-input"
              placeholder="Ciudad, país o aeropuerto"
              required
        >
      </div>

      <div class="popover popover--error" *ngIf="false">
          <div class="popover-content">Before continiung, you must select your destination</div>
      </div>

      <!-- <div id="destination-sugestion-popup" class="searchbar-popup cities-sugestion-popup destination">
        <p class="cities-sugestion-popup_title">
          Búsquedas recientes
          <span class="erase-label">Borrar</span>
        </p>
        <ul class="cities-sugestion-popup_list">
            <li *ngFor="let resent of stationResent$ | async">
                <p class="list-item">{{resent?.iataName}}</p>
                <p class="list-item">{{resent?.countryName}}</p>
                <p class="list-item">{{resent?.iataCode}}</p>
                <p class="list-item"><span class="icon icon-arrow-list"></span></p>
              </li>
        </ul>
        <p class="cities-sugestion-popup_title">Todos los aeropuertos</p>
        <ul class="cities-sugestion-popup_list">
          <li *ngFor="let origin of origin$ | async">
            <p class="list-item">{{origin.iataName}}</p>
            <p class="list-item">España</p>
            <p class="list-item">{{origin.iataCode}}</p>
          </li>
        </ul>
        <div class="cities-sugestion-popup_legend">
          <ul>
            <li>Vuelos directos</li>
            <li>Vuelos en conexión</li>
          </ul>
          <div class="cities-sugestion-popup_legend_actions">
            <div class="link">
              <span class="icon icon-arrow-right"></span>
            <a href="">Mapa de destinos</a>
          </div>
          <div class="form-checbox--button color-darkGrey">
             <label>
                <input type="checkbox" hidden>
                <span>Múltiples destinos</span>
              </label>
            </div>
          </div>
        </div>
      </div> -->

    </div>

    <div id="form-group--dates" class="form-input dates">
        <div class="col col-md-6">
          <label for="dates-input--from">Ida</label>
          <div class="input-group">
            <input type="text" id="dates-input--from" class="form-control js-searchbar-input js-searchbar-date-input"
                   placeholder="DD/MM/YY"
                   [ngModel]="dataFlight.going | date:'dd/MM/yy'"
                   name="going"
                   readonly="readonly"
            >
            <span class="icon icon-calendar"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span>
          </div>
        </div>
        <div class="col col-md-6">
          <label for="dates-input--to">Vuelta</label>
          <div class="input-group">
            <input type="text" id="dates-input--to" class="form-control js-searchbar-input js-searchbar-date-input"
                   placeholder="DD/MM/YY"
                   [ngModel]="dataFlight.return | date:'dd/MM/yy'"
                   name="return"
                   readonly="readonly"
            >
            <span class="icon icon-calendar"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span>
          </div>
        </div>
      </div>

      <div id="form-group--passengers" class="form-input passengers">
        <label for="passengers-input">{{dataFlight.passenger.adult}} Adult, {{dataFlight.passenger.children}} Children, {{dataFlight.passenger.babies}} babies</label>
        <div class="input-group">
          <input type="text" class="form-control js-searchbar-input" id="passengers-input"
                 [ngModel]="dataFlight.passenger.totalPassengers"
                 name="totalPassengers"
                 placeholder=""
                 readonly="readonly"
          >

          <span class="icon icon-arrow-down"></span>
        </div>
        <div id="passengers-popup" class="searchbar-popup passengers-popup discount">
            <ul class="passengers-popup_main">
              <li>
                <div class="passengers-popup_main_description">
                  <p class="title">Adults</p>
                  <label class="label">Since 16 years</label>
                </div>
                <div class="passengers-popup_main_counter">
                  <span class="icon icon-rounded-less" (click)="lessAdults()"></span>
                  <div class="number">{{dataFlight.passenger.adult}}</div>
                  <span class="icon icon-rounded-more" (click)="moreAdults()"></span>
                </div>
              </li>
              <li>
                <div class="passengers-popup_main_description">
                  <p class="title">Children</p>
                  <label class="label">2 to 15 years</label>
                </div>
                <div class="passengers-popup_main_counter">
                  <span class="icon icon-rounded-less" (click)="lessChildren()"></span>
                  <div class="number">{{dataFlight.passenger.children}}</div>
                  <span class="icon icon-rounded-more" (click)="moreChildren()"></span>
                </div>
              </li>
              <li>
                <div class="passengers-popup_main_description">
                  <p class="title">Baby</p>
                  <label class="label">From 7 days to 23 months</label>
                </div>
                <div class="passengers-popup_main_counter">
                  <span class="icon icon-rounded-less" (click)="lessBabies()"></span>
                  <div class="number">{{dataFlight.passenger.babies}}</div>
                  <span class="icon icon-rounded-more" (click)="moreBabies()"></span>
                </div>
              </li>
              <li>
                <div class="passengers-popup_main_description">
                  <p class="title">Extraseat</p>
                  <label class="label"><a href="">+ info</a></label>
                </div>
                <div class="passengers-popup_main_counter">
                  <span class="icon icon-rounded-less" (click)="lessExtraSeat()"></span>
                  <div class="number">{{dataFlight.passenger.extraSeat}}</div>
                  <span class="icon icon-rounded-more" (click)="moreExtraSeat()"></span>
                </div>
              </li>
            </ul>
            <ul class="passengers-popup_main discount">
              <li id="discount-list-active">
                <p>Descuento Residente o familia numerosa</p>
                <span class="icon icon-arrow-right"></span>
              </li>
              <li class="js-discount-item-selected" style="display: list-item;">
                <p class="discount-item selected">Fam. Numerosa Especial (10%)</p>
              </li>
              <div class="alert alert--icon info">
                <div class="alert_wrap">
                  <span class="icon icon-info"><span class="path1"></span><span class="path2"></span></span>
                  <p class="alert_wrap_title">Residentes</p>
                  <p class="alert_wrap_message">Durante la reserva se validará tu condición de residente.</p>
                </div>
                <div class="alert_wrap">
                  <span class="icon icon-info"><span class="path1"></span><span class="path2"></span></span>
                  <p class="alert_wrap_title">Familia numerosa</p>
                  <p class="alert_wrap_message">Se debe presentar la documentación acreditativa en el aeropuerto.</p>
                </div>
              </div>
            </ul>
            <ul id="discount-list" class="passengers-popup_main discount-list">
              <li>
                <p class="discount-item js-discount">Residente islas o Ceuta (50%)</p>
              </li>
              <li>
                <p class="discount-item js-discount">Fam. Numerosa General (5%)</p>
              </li>
              <li>
                <p id="discount-item" class="discount-item js-discount">Fam. Numerosa Especial (10%)</p>
              </li>
              <li>
                <p class="discount-item js-discount">Fam. Numerosa General Residente (55%)</p>
              </li>
              <li>
                <p class="discount-item js-discount">Fam. Numerosa Especial Residente (60%)</p>
              </li>
            </ul>
          </div>
      </div>
  </div>

  <div class="form-action">
    <button [disabled]="searchFlight.invalid" class="mv_button color-darkGrey size-md icon icon-right">Buscar</button>
  </div>
</form>
